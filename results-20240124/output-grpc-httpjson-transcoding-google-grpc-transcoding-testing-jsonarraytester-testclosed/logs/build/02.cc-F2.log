---------------------------------------------------------------
Compiling libFuzzer to /usr/lib/libFuzzingEngine.a...  done.
---------------------------------------------------------------
CC=/usr/local/bin/clang-jcc
CXX=/usr/local/bin/clang++-jcc
CFLAGS=-O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link
CXXFLAGS=-O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++
RUSTFLAGS=--cfg fuzzing -Zsanitizer=address -Cdebuginfo=1 -Cforce-frame-pointers
---------------------------------------------------------------
+ bazel_build_fuzz_tests
Using Bazel query to find fuzz targets: 
        let all_fuzz_tests = attr(tags, "fuzz-test", "//...") in
        let lang_fuzz_tests = attr(generator_function, "^cc_fuzz_test$", $all_fuzz_tests) in
        $lang_fuzz_tests - attr(tags, "no-oss-fuzz", $lang_fuzz_tests)
    
2024/01/24 18:09:16 Downloading https://releases.bazel.build/4.0.0/release/bazel-4.0.0-linux-x86_64...
Extracting Bazel installation...
Starting local Bazel server and connecting to it...
Loading: 0 packages loaded
Loading: 0 packages loaded
Loading: 0 packages loaded
Loading: 0 packages loaded
Loading: 3 packages loaded
    currently loading: test
Loading: 4 packages loaded
Loading: 4 packages loaded
Found 2 fuzz test packages:
  //test:message_reader_fuzz_test_oss_fuzz
  //test:http_template_fuzz_test_oss_fuzz
Building the fuzz tests with the following Bazel options:
  -c opt --@rules_fuzzing//fuzzing:cc_engine=@rules_fuzzing_oss_fuzz//:oss_fuzz_engine --@rules_fuzzing//fuzzing:java_engine=@rules_fuzzing_oss_fuzz//:oss_fuzz_java_engine --@rules_fuzzing//fuzzing:cc_engine_instrumentation=oss-fuzz --@rules_fuzzing//fuzzing:cc_engine_sanitizer=none --cxxopt=-stdlib=libc++ --linkopt=-lc++ --verbose_failures --spawn_strategy=standalone --action_env=CC=/usr/local/bin/clang-jcc --action_env=CXX=/usr/local/bin/clang++-jcc
Loading:  (1 packages loaded)
Loading: 1 packages loaded
Analyzing: 2 targets (1 packages loaded, 0 targets configured)
Analyzing: 2 targets (15 packages loaded, 15 targets configured)
Analyzing: 2 targets (15 packages loaded, 15 targets configured)
Analyzing: 2 targets (15 packages loaded, 15 targets configured)
Analyzing: 2 targets (16 packages loaded, 28 targets configured)
Analyzing: 2 targets (24 packages loaded, 321 targets configured)
Analyzing: 2 targets (65 packages loaded, 1224 targets configured)
INFO: Analyzed 2 targets (76 packages loaded, 2078 targets configured).
INFO: Found 2 targets...
[0 / 34] [Prepa] Writing file test/message_reader_fuzz_test_oss_fuzz_runfiles
[659 / 1,239] Compiling src/google/protobuf/compiler/rust/naming.cc; 1s local ... (32 actions running)
[666 / 1,239] Compiling src/google/protobuf/compiler/rust/naming.cc; 3s local ... (32 actions running)
[671 / 1,239] Compiling src/google/protobuf/compiler/rust/naming.cc; 5s local ... (32 actions running)
[701 / 1,239] Compiling src/google/protobuf/compiler/python/pyi_generator.cc; 8s local ... (32 actions running)
[745 / 1,239] Compiling src/google/protobuf/text_format.cc; 4s local ... (32 actions running)
[789 / 1,239] Compiling src/google/protobuf/text_format.cc; 7s local ... (32 actions, 31 running)
[827 / 1,239] Compiling src/google/protobuf/text_format.cc; 11s local ... (32 actions, 31 running)
[868 / 1,239] Compiling src/google/protobuf/text_format.cc; 15s local ... (32 actions, 31 running)
[920 / 1,239] Compiling googletest/src/gtest.cc; 19s local ... (32 actions, 31 running)
[1,000 / 1,239] Compiling src/google/protobuf/descriptor_database.cc; 20s local ... (32 actions, 31 running)
[1,056 / 1,239] Compiling src/google/protobuf/descriptor.cc; 24s local ... (32 actions, 31 running)
[1,092 / 1,239] Compiling src/google/protobuf/descriptor.cc; 32s local ... (32 actions, 31 running)
INFO: From Linking test/http_template_fuzz_test_raw_:
/usr/bin/ld.gold: warning: Cannot export local symbol '__asan_extra_spill_area'
[1,141 / 1,239] Compiling src/google/protobuf/descriptor.cc; 43s local ... (7 actions running)
[1,148 / 1,239] Linking external/com_google_protobuf/protoc; 0s local
INFO: From Generating C++ proto_library @com_google_googleapis//google/api:billing_proto:
google/api/billing.proto:19:1: warning: Import google/api/metric.proto is unused.
INFO: From Generating C++ proto_library @com_google_googleapis//google/api:service_proto:
google/api/service.proto:34:1: warning: Import google/api/resource.proto is unused.
google/api/service.proto:38:1: warning: Import google/protobuf/any.proto is unused.
google/api/service.proto:27:1: warning: Import google/api/label.proto is unused.
[1,232 / 1,239] Compiling src/google/protobuf/json/internal/untyped_message.cc; 7s local ... (5 actions running)
ERROR: /src/grpc-httpjson-transcoding/test/BUILD:243:13: Compiling test/message_reader_fuzz_test.cc failed: (Exit 1): clang-jcc failed: error executing command 
  (cd /root/.cache/bazel/_bazel_root/1f2d02b1c30820fa03d68ff064b1166c/execroot/__main__ && \
  exec env - \
    CC=/usr/local/bin/clang-jcc \
    CXX=/usr/local/bin/clang++-jcc \
    FUZZINTRO_OUTDIR=/src \
    PATH=/root/.cache/bazelisk/downloads/bazelbuild/bazel-4.0.0-linux-x86_64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/out \
    PWD=/proc/self/cwd \
  /usr/local/bin/clang-jcc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object -fcolor-diagnostics -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/k8-opt-ST-ef5d11befd01/bin/test/_objs/message_reader_fuzz_test_raw_/message_reader_fuzz_test.d '-frandom-seed=bazel-out/k8-opt-ST-ef5d11befd01/bin/test/_objs/message_reader_fuzz_test_raw_/message_reader_fuzz_test.o' -iquote . -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin -iquote external/com_google_protobuf -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf -iquote external/com_google_absl -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_absl -iquote external/utf8_range -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/utf8_range -iquote external/zlib -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/zlib -iquote external/com_google_googleapis -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_googleapis -iquote external/com_google_googletest -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_googletest -iquote external/rules_fuzzing_oss_fuzz -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/rules_fuzzing_oss_fuzz -iquote external/bazel_tools -iquote bazel-out/k8-opt-ST-ef5d11befd01/bin/external/bazel_tools -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/_virtual_includes/protobuf -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/protobuf -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/protobuf_nowkt -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/protobuf_lite -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/arena -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/arena_align -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/stubs/_virtual_includes/lite -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/port_def -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/arena_allocation_policy -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/arena_config -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/arena_cleanup -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/string_block -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/varint_shuffle -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/io/_virtual_includes/io -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/io/_virtual_includes/io_win32 -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/io/_virtual_includes/gzip_stream -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/stubs/_virtual_includes/stubs -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/io/_virtual_includes/printer -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/io/_virtual_includes/zero_copy_sink -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/io/_virtual_includes/tokenizer -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/any_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/api_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/source_context_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/type_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/duration_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/empty_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/field_mask_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/struct_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/timestamp_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/wrappers_proto -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/compiler/_virtual_includes/importer -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/util/_virtual_includes/delimited_message_util -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/util/_virtual_includes/differencer -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/util/_virtual_includes/field_mask_util -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/util/_virtual_includes/json_util -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/json -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/parser -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/descriptor_traits -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/lexer -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/message_path -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/zero_copy_buffered_stream -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/untyped_message -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/util/_virtual_includes/type_resolver_util -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/descriptor_legacy -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/unparser -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/json/_virtual_includes/writer -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/util/_virtual_includes/time_util -Ibazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_protobuf/src/google/protobuf/_virtual_includes/descriptor_proto -isystem src/include -isystem bazel-out/k8-opt-ST-ef5d11befd01/bin/src/include -isystem external/zlib/zlib/include -isystem bazel-out/k8-opt-ST-ef5d11befd01/bin/external/zlib/zlib/include -isystem external/com_google_googletest/googlemock -isystem bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_googletest/googlemock -isystem external/com_google_googletest/googlemock/include -isystem bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_googletest/googlemock/include -isystem external/com_google_googletest/googletest -isystem bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_googletest/googletest -isystem external/com_google_googletest/googletest/include -isystem bazel-out/k8-opt-ST-ef5d11befd01/bin/external/com_google_googletest/googletest/include -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION '-std=c++14' '-stdlib=libc++' -O1 -fno-omit-frame-pointer -gline-tables-only '-fsanitize=address' -fsanitize-address-use-after-scope '-fsanitize=fuzzer-no-link' '-stdlib=libc++' -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__="redacted"' '-D__TIMESTAMP__="redacted"' '-D__TIME__="redacted"' -c test/message_reader_fuzz_test.cc -o bazel-out/k8-opt-ST-ef5d11befd01/bin/test/_objs/message_reader_fuzz_test_raw_/message_reader_fuzz_test.o)
Execution platform: @local_config_platform//:host
test/message_reader_fuzz_test.cc:31:26: error: too many arguments to function call, expected 0, have 1
        !reader.Finished(&error_message)) {
         ~~~~~~~~~~~~~~~ ^~~~~~~~~~~~~~
src/include/grpc_transcoding/message_reader.h:99:8: note: 'Finished' declared here
  bool Finished() const { return finished_ || !status_.ok(); }
       ^
test/message_reader_fuzz_test.cc:30:9: error: value of type 'google::grpc::transcoding::MessageAndGrpcFrame' is not contextually convertible to 'bool'
    if (reader.NextMessageAndGrpcFrame() &&
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
test/message_reader_fuzz_test.cc:30:42: error: invalid operands to binary expression ('google::grpc::transcoding::MessageAndGrpcFrame' and 'bool')
    if (reader.NextMessageAndGrpcFrame() &&
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^
test/message_reader_fuzz_test.cc:32:23: error: no matching constructor for initialization of 'google::grpc::transcoding::testing::JsonArrayTester'
      JsonArrayTester tester(&reader);
                      ^      ~~~~~~~
test/test_common.h:124:7: note: candidate constructor (the implicit copy constructor) not viable: no known conversion from 'google::grpc::transcoding::MessageReader *' to 'const google::grpc::transcoding::testing::JsonArrayTester' for 1st argument
class JsonArrayTester {
      ^
test/test_common.h:124:7: note: candidate constructor (the implicit move constructor) not viable: no known conversion from 'google::grpc::transcoding::MessageReader *' to 'google::grpc::transcoding::testing::JsonArrayTester' for 1st argument
test/test_common.h:124:7: note: candidate constructor (the implicit default constructor) not viable: requires 0 arguments, but 1 was provided
test/message_reader_fuzz_test.cc:33:34: error: too many arguments to function call, expected single argument 'actual', have 2 arguments
      tester.TestClosed(&reader, &error_message);
      ~~~~~~~~~~~~~~~~~          ^~~~~~~~~~~~~~
test/test_common.h:142:8: note: 'TestClosed' declared here
  bool TestClosed(const std::string& actual);
       ^
5 errors generated.
test/message_reader_fuzz_test.cc:31:26: error: too many arguments to function call, expected 0, have 1
        !reader.Finished(&error_message)) {
         ~~~~~~~~~~~~~~~ ^~~~~~~~~~~~~~
src/include/grpc_transcoding/message_reader.h:99:8: note: 'Finished' declared here
  bool Finished() const { return finished_ || !status_.ok(); }
       ^
test/message_reader_fuzz_test.cc:30:9: error: value of type 'google::grpc::transcoding::MessageAndGrpcFrame' is not contextually convertible to 'bool'
    if (reader.NextMessageAndGrpcFrame() &&
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
test/message_reader_fuzz_test.cc:30:42: error: invalid operands to binary expression ('google::grpc::transcoding::MessageAndGrpcFrame' and 'bool')
    if (reader.NextMessageAndGrpcFrame() &&
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^
test/message_reader_fuzz_test.cc:32:23: error: no matching constructor for initialization of 'google::grpc::transcoding::testing::JsonArrayTester'
      JsonArrayTester tester(&reader);
                      ^      ~~~~~~~
test/test_common.h:124:7: note: candidate constructor (the implicit copy constructor) not viable: no known conversion from 'google::grpc::transcoding::MessageReader *' to 'const google::grpc::transcoding::testing::JsonArrayTester' for 1st argument
class JsonArrayTester {
      ^
test/test_common.h:124:7: note: candidate constructor (the implicit move constructor) not viable: no known conversion from 'google::grpc::transcoding::MessageReader *' to 'google::grpc::transcoding::testing::JsonArrayTester' for 1st argument
test/test_common.h:124:7: note: candidate constructor (the implicit default constructor) not viable: requires 0 arguments, but 1 was provided
test/message_reader_fuzz_test.cc:33:34: error: too many arguments to function call, expected single argument 'actual', have 2 arguments
      tester.TestClosed(&reader, &error_message);
      ~~~~~~~~~~~~~~~~~          ^~~~~~~~~~~~~~
test/test_common.h:142:8: note: 'TestClosed' declared here
  bool TestClosed(const std::string& actual);
       ^
5 errors generated.

Fix failure
INFO: Elapsed time: 98.898s, Critical Path: 45.89s
INFO: 1237 processes: 666 internal, 571 local.
FAILED: Build did NOT complete successfully
FAILED: Build did NOT complete successfully
