---------------------------------------------------------------
Compiling libFuzzer to /usr/lib/libFuzzingEngine.a...  done.
---------------------------------------------------------------
CC=/usr/local/bin/clang-jcc
CXX=/usr/local/bin/clang++-jcc
CFLAGS=-O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link
CXXFLAGS=-O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++
RUSTFLAGS=--cfg fuzzing -Zsanitizer=address -Cdebuginfo=1 -Cforce-frame-pointers
---------------------------------------------------------------
+ sed -i 's/hold_lock_file_for_update_timeout(lk, path, flags, 0);/hold_lock_file_for_update_timeout(lk, path, flags, 5000);/g' lockfile.h
++ nproc
+ make -j32 CC=/usr/local/bin/clang-jcc CXX=/usr/local/bin/clang++-jcc 'CFLAGS=-O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link' 'FUZZ_CXXFLAGS=-O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++ -Wl,--allow-multiple-definition' 'LIB_FUZZING_ENGINE=common-main.o -fsanitize=fuzzer' fuzz-all
GIT_VERSION = 2.43.0.568.g5fa4633015.dirty
    * new build flags
    * new prefix flags
    GEN command-list.h
    CC hex.o
    CC hex-ll.o
    CC hook.o
    CC ident.o
    CC json-writer.o
    CC kwset.o
    CC levenshtein.o
    CC line-log.o
    CC line-range.o
    CC linear-assignment.o
    CC list-objects-filter-options.o
    CC list-objects-filter.o
    CC list-objects.o
    CC lockfile.o
    CC log-tree.o
    CC ls-refs.o
    CC mailinfo.o
    CC mailmap.o
    CC match-trees.o
    CC mem-pool.o
    CC merge-blobs.o
    CC merge-ll.o
    CC merge-ort.o
    CC merge-ort-wrappers.o
    CC merge-recursive.o
    CC merge.o
    CC midx.o
    CC name-hash.o
    CC negotiator/default.o
    CC negotiator/noop.o
    CC negotiator/skipping.o
    CC notes-cache.o
    CC notes-merge.o
    CC notes-utils.o
    CC notes.o
    CC object-file.o
    CC object-name.o
    CC object.o
    CC oid-array.o
    CC oidmap.o
    CC oidset.o
    CC oidtree.o
    CC oss-fuzz/fuzz-cmd-base.o
    CC pack-bitmap-write.o
    CC pack-bitmap.o
    CC pack-check.o
    CC pack-mtimes.o
    CC pack-objects.o
    CC pack-revindex.o
    CC pack-write.o
    CC packfile.o
    CC pager.o
    CC parallel-checkout.o
    CC parse.o
    CC parse-options-cb.o
    CC parse-options.o
    CC patch-delta.o
    CC patch-ids.o
    CC path.o
    CC pathspec.o
    CC pkt-line.o
    CC preload-index.o
    CC pretty.o
    CC prio-queue.o
    CC progress.o
    CC promisor-remote.o
    CC prompt.o
    CC protocol.o
    CC protocol-caps.o
    CC prune-packed.o
    CC quote.o
    CC range-diff.o
    CC reachable.o
    CC read-cache.o
    CC rebase-interactive.o
    CC rebase.o
    CC ref-filter.o
    CC reflog-walk.o
    CC reflog.o
    CC refs.o
    CC refs/debug.o
    CC refs/files-backend.o
    CC refs/iterator.o
    CC refs/packed-backend.o
    CC refs/ref-cache.o
    CC refspec.o
    CC remote.o
    CC replace-object.o
    CC repo-settings.o
    CC repository.o
    CC rerere.o
    CC reset.o
    CC resolve-undo.o
    CC revision.o
    CC run-command.o
    CC send-pack.o
    CC sequencer.o
    CC serve.o
    CC server-info.o
    CC setup.o
    CC shallow.o
    CC sideband.o
    CC sigchain.o
    CC sparse-index.o
    CC split-index.o
    CC stable-qsort.o
    CC statinfo.o
    CC strbuf.o
    CC streaming.o
    CC string-list.o
    CC strmap.o
    CC strvec.o
    CC sub-process.o
    CC submodule-config.o
    CC submodule.o
    CC symlinks.o
    CC tag.o
    CC tempfile.o
    CC thread-utils.o
    CC tmp-objdir.o
    CC trace.o
    CC trace2.o
    CC trace2/tr2_cfg.o
    CC trace2/tr2_cmd_name.o
    CC trace2/tr2_ctr.o
    CC trace2/tr2_dst.o
    CC trace2/tr2_sid.o
    CC trace2/tr2_sysenv.o
    CC trace2/tr2_tbuf.o
    CC trace2/tr2_tgt_event.o
    CC trace2/tr2_tgt_normal.o
    CC trace2/tr2_tgt_perf.o
    CC trace2/tr2_tls.o
    CC trace2/tr2_tmr.o
    CC trailer.o
    CC transport-helper.o
    CC transport.o
    CC tree-diff.o
    CC tree-walk.o
    CC tree.o
    CC unpack-trees.o
    CC upload-pack.o
    CC url.o
    CC urlmatch.o
    CC usage.o
    CC userdiff.o
    CC utf8.o
    CC varint.o
    CC versioncmp.o
    CC walker.o
    CC wildmatch.o
    CC worktree.o
    CC wrapper.o
    CC write-or-die.o
    CC ws.o
    CC wt-status.o
    CC xdiff-interface.o
    CC unix-socket.o
    CC unix-stream-server.o
    CC compat/simple-ipc/ipc-shared.o
    CC compat/simple-ipc/ipc-unix-socket.o
    CC sha1dc_git.o
    CC sha1dc/sha1.o
    CC sha1dc/ubc_check.o
    CC sha256/block/sha256.o
    CC compat/linux/procinfo.o
    CC compat/fopen.o
    CC compat/strlcpy.o
    CC compat/qsort_s.o
    CC xdiff/xdiffi.o
    CC xdiff/xemit.o
    CC xdiff/xhistogram.o
    CC xdiff/xmerge.o
    CC xdiff/xpatience.o
    CC xdiff/xprepare.o
    CC xdiff/xutils.o
    CC reftable/basics.o
    CC reftable/error.o
    CC reftable/block.o
    CC reftable/blocksource.o
    CC reftable/iter.o
    CC reftable/publicbasics.o
    CC reftable/merged.o
    CC reftable/pq.o
    CC reftable/reader.o
    CC reftable/record.o
    CC reftable/refname.o
    CC reftable/generic.o
    CC reftable/stack.o
    CC reftable/tree.o
    CC reftable/writer.o
    * new link flags
    CC oss-fuzz/fuzz-date.o
    CC oss-fuzz/fuzz-pack-headers.o
    CC oss-fuzz/fuzz-pack-idx.o
    CC oss-fuzz/fuzz-command.o
    CC oss-fuzz/fuzz-cmd-status.o
    CC oss-fuzz/fuzz-cmd-version.o
    CC oss-fuzz/fuzz-cmd-diff.o
    CC oss-fuzz/fuzz-commit-graph.o
    CC oss-fuzz/dummy-cmd-main.o
    CC common-main.o
    CC abspath.o
    CC add-interactive.o
    CC add-patch.o
    CC advice.o
    CC alias.o
    CC alloc.o
    CC apply.o
    CC archive-tar.o
    CC archive-zip.o
    CC archive.o
    CC attr.o
    CC base85.o
    CC bisect.o
    CC blame.o
    CC blob.o
    CC bloom.o
    CC branch.o
    CC bulk-checkin.o
    CC bundle-uri.o
    CC bundle.o
    CC cache-tree.o
    CC cbtree.o
    CC chdir-notify.o
    CC checkout.o
    CC chunk-format.o
    CC color.o
    CC column.o
    CC combine-diff.o
    CC commit-graph.o
    CC commit-reach.o
    CC commit.o
    CC compat/nonblock.o
    CC compat/obstack.o
    CC compat/terminal.o
    CC compat/zlib-uncompress2.o
    CC config.o
    CC connect.o
    CC connected.o
    CC convert.o
    CC copy.o
    CC credential.o
    CC csum-file.o
    CC ctype.o
    CC date.o
    CC decorate.o
    CC delta-islands.o
    CC diagnose.o
    CC diff-delta.o
    CC diff-merges.o
    CC diff-lib.o
    CC diff-no-index.o
    CC diff.o
    CC diffcore-break.o
    CC diffcore-delta.o
    CC diffcore-order.o
    CC diffcore-pickaxe.o
    CC diffcore-rename.o
    CC diffcore-rotate.o
    CC dir-iterator.o
    CC dir.o
    CC editor.o
    CC entry.o
    CC environment.o
    CC ewah/bitmap.o
    CC ewah/ewah_bitmap.o
    CC ewah/ewah_io.o
    CC ewah/ewah_rlw.o
    CC exec-cmd.o
    CC fetch-negotiator.o
    CC fetch-pack.o
    CC fmt-merge-msg.o
    CC fsck.o
    CC fsmonitor.o
    CC fsmonitor-ipc.o
    CC fsmonitor-settings.o
    CC gettext.o
    CC git-zlib.o
    CC gpg-interface.o
    CC graph.o
    CC grep.o
    CC hash-lookup.o
    CC hashmap.o
    CC help.o
    CC version.o
    AR xdiff/lib.a
    AR reftable/libreftable.a
oss-fuzz/fuzz-date.c:1:10: fatal error: 'algorithm' file not found
#include <algorithm>
         ^~~~~~~~~~~
1 error generated.

Fix failure
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:4:
./strbuf.h:131:2: error: use of undeclared identifier 'SWAP'
        SWAP(*a, *b);
        ^
./strbuf.h:167:3: error: use of undeclared identifier 'BUG'
                BUG("strbuf_setlen() beyond buffer");
                ^
./strbuf.h:172:3: error: use of undeclared identifier 'assert'
                assert(!strbuf_slopbuf[0]);
                ^
./strbuf.h:524:6: error: use of undeclared identifier 'strip_suffix_mem'
        if (strip_suffix_mem(sb->buf, &sb->len, suffix)) {
            ^
./strbuf.h:703:9: error: use of undeclared identifier 'strip_suffix'
        return strip_suffix(str, suffix, &len);
               ^
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:5:
./strvec.h:61:1: error: unknown type name 'LAST_ARG_MUST_BE_NULL'
LAST_ARG_MUST_BE_NULL
^
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:6:
In file included from ./wt-status.h:6:
./pathspec.h:144:10: error: member access into incomplete type 'const struct pathspec_item'
        if (item->magic & PATHSPEC_ICASE)
                ^
./pathspec.h:141:43: note: forward declaration of 'pathspec_item'
static inline int ps_strncmp(const struct pathspec_item *item,
                                          ^
./pathspec.h:153:10: error: member access into incomplete type 'const struct pathspec_item'
        if (item->magic & PATHSPEC_ICASE)
                ^
./pathspec.h:141:43: note: forward declaration of 'pathspec_item'
static inline int ps_strncmp(const struct pathspec_item *item,
                                          ^
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:6:
In file included from ./wt-status.h:7:
In file included from ./remote.h:4:
./hash-ll.h:277:26: error: use of undeclared identifier 'xmalloc'; did you mean 'malloc'?
        struct object_id *dst = xmalloc(sizeof(struct object_id));
                                ^~~~~~~
                                malloc
/usr/include/stdlib.h:539:14: note: 'malloc' declared here
extern void *malloc (size_t __size) __THROW __attribute_malloc__
             ^
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:6:
In file included from ./wt-status.h:7:
In file included from ./remote.h:4:
./hash-ll.h:277:20: error: cannot initialize a variable of type 'struct object_id *' with an rvalue of type 'void *'
        struct object_id *dst = xmalloc(sizeof(struct object_id));
                          ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:6:
In file included from ./wt-status.h:7:
In file included from ./remote.h:5:
./hashmap.h:308:2: error: use of undeclared identifier 'BUG'
        BUG("hashmap_get_size: size not set");
        ^
./hashmap.h:574:9: error: cannot initialize return object of type 'const char *' with an rvalue of type 'const void *'
        return memintern(string, strlen(string));
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from oss-fuzz/fuzz-date.cpp:9:
In file included from ./sequencer.h:6:
In file included from ./wt-status.h:7:
./remote.h:199:12: error: use of undeclared identifier 'FLEX_ARRAY'
        char name[FLEX_ARRAY]; /* more */
                  ^
./remote.h:335:59: error: invalid parameter name: 'explicit' is a keyword
const char *remote_for_branch(struct branch *branch, int *explicit);
                                                          ^
./remote.h:336:63: error: invalid parameter name: 'explicit' is a keyword
const char *pushremote_for_branch(struct branch *branch, int *explicit);
                                                              ^
oss-fuzz/fuzz-date.cpp:23:25: error: variable has incomplete type 'struct rebase_options'
  struct rebase_options opts;
                        ^
oss-fuzz/fuzz-date.cpp:23:10: note: forward declaration of 'rebase_options'
  struct rebase_options opts;
         ^
16 errors generated.
make: *** [Makefile:2741: oss-fuzz/fuzz-date.o] Error 1
make: *** Waiting for unfinished jobs....
