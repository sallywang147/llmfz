Given the following C++ program and its build error message, fix the code to achieve the original functionality.

If a function is missing, fix it by including the related libraries.

If the error contains "undefined reference to", this means one or more of the header <code>#include</code> directives need to be wrapped with <code>extern "C" {}</code> for the object linking to succeed. You must fix this by rewriting the relevant <code>#include</code> and wrapping it with <code>extern "C" {}</code>.

Below is the code needs to be built:
<code>
#include <isc/mem.h>
#include <isc/util.h>

#include <dns/zt.h>

#include "fuzz.h"

static isc_mem_t *mctx = NULL;
static dns_zt_t *zt = NULL;
static func_type *loaddone = NULL;
static char *arg = NULL;
static bool newonly = false;

extern "C" {
int
LLVMFuzzerInitialize(int *argc, char ***argv) {
	isc_result_t result;

	isc_mem_create(0, 0, &mctx);

	result = dns_zt_create(mctx, &zt);
	if (result != ISC_R_SUCCESS) {
		fprintf(stderr, "dns_zt_create failed: %s\n",
			isc_result_totext(result));
		return (1);
	}

	return (0);
}

int
LLVMFuzzerTestOneInput(const uint8_t *data, size_t size) {
	isc_result_t result;
	FuzzedDataProvider stream(data, size);

	newonly = stream.ConsumeBool();
	loaddone = (func_type *)stream.ConsumeIntegral<uint32_t>();
	arg = (char *)stream.ConsumeIntegral<uint32_t>();

	result = dns_zt_asyncload(zt, newonly, loaddone, arg);
	if (result != ISC_R_SUCCESS) {
		fprintf(stderr, "dns_zt_asyncload failed: %s\n",
			isc_result_totext(result));
	}

	return (0);
}
}
</code>

The code has the following build issues:
<error>
isc_lex_gettoken.c:10:8: error: unknown type name 'func_type'
static func_type *loaddone = NULL;
       ^
isc_lex_gettoken.c:14:8: error: expected identifier or '('
extern "C" {
       ^
isc_lex_gettoken.c:19:20: error: too many arguments provided to function-like macro invocation
        isc_mem_create(0, 0, &mctx);
                          ^
../lib/isc/include/isc/mem.h:210:9: note: macro 'isc_mem_create' defined here
#define isc_mem_create(cp) isc__mem_create((cp)_ISC_MEM_FILELINE)
        ^
3 errors generated.

Fix failure
In file included from isc_lex_gettoken.cpp:1:
../lib/isc/include/isc/mem.h:398:41: error: expected ')'
isc__mempool_create(isc_mem_t *restrict mctx, const size_t element_size,
                                        ^
../lib/isc/include/isc/mem.h:398:20: note: to match this '('
isc__mempool_create(isc_mem_t *restrict mctx, const size_t element_size,
                   ^
../lib/isc/include/isc/mem.h:419:47: error: expected ')'
isc__mempool_destroy(isc_mempool_t **restrict mpctxp _ISC_MEM_FLARG);
                                              ^
../lib/isc/include/isc/mem.h:419:21: note: to match this '('
isc__mempool_destroy(isc_mempool_t **restrict mpctxp _ISC_MEM_FLARG);
                    ^
../lib/isc/include/isc/mem.h:429:45: error: expected ')'
isc_mempool_setname(isc_mempool_t *restrict mpctx, const char *name);
                                            ^
../lib/isc/include/isc/mem.h:429:20: note: to match this '('
isc_mempool_setname(isc_mempool_t *restrict mpctx, const char *name);
                   ^
../lib/isc/include/isc/mem.h:452:48: error: expected ')'
isc_mempool_getfreemax(isc_mempool_t *restrict mpctx);
                                               ^
../lib/isc/include/isc/mem.h:452:23: note: to match this '('
isc_mempool_getfreemax(isc_mempool_t *restrict mpctx);
                      ^
../lib/isc/include/isc/mem.h:458:48: error: expected ')'
isc_mempool_setfreemax(isc_mempool_t *restrict mpctx, const unsigned int limit);
                                               ^
../lib/isc/include/isc/mem.h:458:23: note: to match this '('
isc_mempool_setfreemax(isc_mempool_t *restrict mpctx, const unsigned int limit);
                      ^
../lib/isc/include/isc/mem.h:464:50: error: expected ')'
isc_mempool_getfreecount(isc_mempool_t *restrict mpctx);
                                                 ^
../lib/isc/include/isc/mem.h:464:25: note: to match this '('
isc_mempool_getfreecount(isc_mempool_t *restrict mpctx);
                        ^
../lib/isc/include/isc/mem.h:470:50: error: expected ')'
isc_mempool_getallocated(isc_mempool_t *restrict mpctx);
                                                 ^
../lib/isc/include/isc/mem.h:470:25: note: to match this '('
isc_mempool_getallocated(isc_mempool_t *restrict mpctx);
                        ^
../lib/isc/include/isc/mem.h:476:50: error: expected ')'
isc_mempool_getfillcount(isc_mempool_t *restrict mpctx);
                                                 ^
../lib/isc/include/isc/mem.h:476:25: note: to match this '('
isc_mempool_getfillcount(isc_mempool_t *restrict mpctx);
                        ^
../lib/isc/include/isc/mem.h:483:50: error: expected ')'
isc_mempool_setfillcount(isc_mempool_t *restrict mpctx,
                                                 ^
../lib/isc/include/isc/mem.h:483:25: note: to match this '('
isc_mempool_setfillcount(isc_mempool_t *restrict mpctx,
                        ^
In file included from isc_lex_gettoken.cpp:4:
In file included from ../lib/dns/include/dns/zt.h:23:
../lib/dns/include/dns/types.h:58:14: error: ISO C++ forbids forward references to 'enum' types
typedef enum dns_compress_flags        dns_compress_flags_t;
             ^
../lib/dns/include/dns/types.h:72:14: error: ISO C++ forbids forward references to 'enum' types
typedef enum dns_decompress           dns_decompress_t;
             ^
In file included from isc_lex_gettoken.cpp:6:
In file included from ./fuzz.h:27:
In file included from ../lib/dns/include/dst/dst.h:24:
In file included from ../lib/dns/include/dns/ds.h:18:
In file included from ../lib/dns/include/dns/rdatastruct.h:34:
In file included from ../lib/isc/include/isc/sockaddr.h:21:
In file included from ../lib/isc/include/isc/hash.h:21:
../lib/isc/include/isc/siphash.h:131:45: error: expected ')'
isc_siphash24_one(isc_siphash24_t *restrict state, const uint64_t m) {
                                            ^
../lib/isc/include/isc/siphash.h:131:18: note: to match this '('
isc_siphash24_one(isc_siphash24_t *restrict state, const uint64_t m) {
                 ^
../lib/isc/include/isc/siphash.h:132:2: error: use of undeclared identifier 'state'
        state->v3 ^= m;
        ^
../lib/isc/include/isc/siphash.h:132:15: error: use of undeclared identifier 'm'
        state->v3 ^= m;
                     ^
../lib/isc/include/isc/siphash.h:135:12: error: use of undeclared identifier 'state'
                SIPROUND(state->v0, state->v1, state->v2, state->v3);
                         ^
../lib/isc/include/isc/siphash.h:60:18: note: expanded from macro 'SIPROUND'
#define SIPROUND FULL_ROUND64
                 ^
../lib/isc/include/isc/siphash.h:135:23: error: use of undeclared identifier 'state'
                SIPROUND(state->v0, state->v1, state->v2, state->v3);
                                    ^
../lib/isc/include/isc/siphash.h:60:18: note: expanded from macro 'SIPROUND'
#define SIPROUND FULL_ROUND64
                 ^
../lib/isc/include/isc/siphash.h:135:34: error: use of undeclared identifier 'state'
                SIPROUND(state->v0, state->v1, state->v2, state->v3);
                                               ^
../lib/isc/include/isc/siphash.h:60:18: note: expanded from macro 'SIPROUND'
#define SIPROUND FULL_ROUND64
                 ^
../lib/isc/include/isc/siphash.h:135:45: error: use of undeclared identifier 'state'
                SIPROUND(state->v0, state->v1, state->v2, state->v3);
                                                          ^
../lib/isc/include/isc/siphash.h:60:18: note: expanded from macro 'SIPROUND'
#define SIPROUND FULL_ROUND64
                 ^
../lib/isc/include/isc/siphash.h:135:23: error: use of undeclared identifier 'state'
                SIPROUND(state->v0, state->v1, state->v2, state->v3);
                                    ^
../lib/isc/include/isc/siphash.h:60:18: note: expanded from macro 'SIPROUND'
#define SIPROUND FULL_ROUND64
                 ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
</error>

Fix code:
1. Consider the possible solution for the issues listed above.
2. Apply the solutions to the original code.
It's important to show the complete code, not only the fixed line.
<solution>
